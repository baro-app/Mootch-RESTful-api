<?php

abstract class base_model {

    var $reg;

    function __construct($reg) {
           $this->reg = $reg;
    }

    function query($sql) {
        return $this->reg->db->query($sql);
    }

    function insert_id() {
        return $this->reg->db->insert_id;
    }

    function get_rows($sql) {
        $result = $this->reg->db->query($sql);
        $rows = array();
        if($result->num_rows > 0) {
            while($row = $result->fetch_assoc()) $rows[] = $row;
        }
        return $rows;
    }

    function get_row($sql) {
        $rows = $this->get_rows($sql);
        if(count($rows)<1) {
            return false;
        } else {
            return $rows[0];
        }
    }

    function write_column($table,$column,$value,$id) {
        $sql = "UPDATE {$table} SET {$column}='{$value}' WHERE id={$id}";
        if($this->reg->db->query($sql)) {
            return true;
        } else {
            return false;
        }
    }

}

?>
